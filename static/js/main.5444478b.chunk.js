(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},14:function(e,t,n){e.exports=n(36)},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(8),r=n.n(o);n(20),n(11),n(21);var s=n(2),u=n(3),l=n(5),c=n(4),h=n(6),p=(n(22),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.CELL_SIZE,o=e.onMouseEnter;return i.a.createElement("div",{className:"Cell",style:{left:"".concat(a*t+1,"px"),top:"".concat(a*n+1,"px"),width:"".concat(a-1,"px"),height:"".concat(a-1,"px")},onMouseEnter:o})}}]),t}(i.a.Component)),d=n(9),v=100,f=800,g=800,m=(i.a.Component,n(13)),y="",b="",w=[],M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={cellData:n.getConnectionPoints(n.props.value),entered:-1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getValue",value:function(){var e=this.props.value;return e.isRevealed?e.isMine?"\ud83d\udca3":0===e.neighbour?null:e.neighbour:this.props.value.isFlagged?"\ud83d\udea9":null}},{key:"getConnectionPoints",value:function(e){var t={};return t.top=100*e.row,t.left=100*e.col,t.centroid={x:t.left+50,y:t.top+50},t.edge={top:{x:t.centroid.x,y:t.centroid.y-50},bottom:{x:t.centroid.x,y:t.centroid.y+50},left:{x:t.centroid.x-50,y:t.centroid.y},right:{x:t.centroid.x+50,y:t.centroid.y}},t}},{key:"handleMouseEnter",value:function(){var e=this.props,t=e.isMouseDown,n=e.position,a=e.value;if(t){console.log(a.row,a.col);for(var i=this.state.cellData.edge,o={left:n.x-i.left.x,right:i.right.x-n.x,top:n.y-i.top.y,bottom:i.bottom.y-n.y},r=1e3,s=Object.keys(o),u=0;u<s.length;u++){var l=s[u];o[l]<r&&(r=o[l],y=l)}console.log("Entry",y)}}},{key:"handleMouseExit",value:function(){var e=this.props,t=e.isMouseDown,n=(e.value,e.position);if(t){for(var a=this.state.cellData.edge,i={left:n.x-a.left.x,right:a.right.x-n.x,top:n.y-a.top.y,bottom:a.bottom.y-n.y},o=1e3,r=Object.keys(i),s=0;s<r.length;s++){var u=r[s];i[u]<o&&(o=i[u],b=u)}var l=a[y],c=a[b];w.push({enter:l,exit:c}),console.log("Exit",b),console.log(w)}}},{key:"drawLine",value:function(){return w.map(function(e){return i.a.createElement(m.Line,{x0:e.enter.x+40,y0:e.enter.y+40,x1:e.exit.x+40,y1:e.exit.y+40})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onClick,o=t.cMenu,r="cell"+(n.isRevealed?"":" hidden")+(n.isMine?" is-mine":"")+(n.isFlagged?" is-flag":"");return i.a.createElement("div",{onClick:a,className:r,onContextMenu:o,onMouseEnter:function(){return e.handleMouseEnter()},onMouseOut:function(){return e.handleMouseExit()}},this.getValue(),this.drawLine())}}]),t}(i.a.Component),x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={boardData:n.initBoardData(n.props.height,n.props.width),isMouseDown:0},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"alterMouseDown",value:function(){console.log((this.state.isMouseDown+1)%2),this.setState({isMouseDown:(this.state.isMouseDown+1)%2})}},{key:"getMines",value:function(e){var t=[];return e.map(function(e){e.map(function(e){e.isMine&&t.push(e)})}),t}},{key:"getFlags",value:function(e){var t=[];return e.map(function(e){e.map(function(e){e.isFlagged&&t.push(e)})}),t}},{key:"getHidden",value:function(e){var t=[];return e.map(function(e){e.map(function(e){e.isRevealed||t.push(e)})}),t}},{key:"getRandomNumber",value:function(e){return Math.floor(1e3*Math.random()+1)%e}},{key:"initBoardData",value:function(e,t){return this.createEmptyArray(e,t)}},{key:"createEmptyArray",value:function(e,t){for(var n=[],a=0;a<e;a++){n.push([]);for(var i=0;i<t;i++)n[a][i]={row:a,col:i,isMine:!1,neighbour:0,isRevealed:!1,isEmpty:!1,isFlagged:!1}}return n}},{key:"plantMines",value:function(e,t,n,a){for(var i,o,r=0;r<a;)i=this.getRandomNumber(n),o=this.getRandomNumber(t),e[i][o].isMine||(e[i][o].isMine=!0,r++);return e}},{key:"getNeighbours",value:function(e,t,n){for(var a=this,i=e,o=0;o<t;o++)for(var r=0;r<n;r++)!0!==e[o][r].isMine&&function(){var t=0;a.traverseBoard(e[o][r].x,e[o][r].y,e).map(function(e){e.isMine&&t++}),0===t&&(i[o][r].isEmpty=!0),i[o][r].neighbour=t}();return i}},{key:"traverseBoard",value:function(e,t,n){var a=[];return e>0&&a.push(n[e-1][t]),e<this.props.height-1&&a.push(n[e+1][t]),t>0&&a.push(n[e][t-1]),t<this.props.width-1&&a.push(n[e][t+1]),e>0&&t>0&&a.push(n[e-1][t-1]),e>0&&t<this.props.width-1&&a.push(n[e-1][t+1]),e<this.props.height-1&&t<this.props.width-1&&a.push(n[e+1][t+1]),e<this.props.height-1&&t>0&&a.push(n[e+1][t-1]),a}},{key:"revealBoard",value:function(){var e=this.state.boardData;e.map(function(e){e.map(function(e){e.isRevealed=!0})}),this.setState({boardData:e})}},{key:"revealEmpty",value:function(e,t,n){var a=this;return this.traverseBoard(e,t,n).map(function(e){e.isFlagged||e.isRevealed||!e.isEmpty&&e.isMine||(n[e.x][e.y].isRevealed=!0,e.isEmpty&&a.revealEmpty(e.x,e.y,n))}),n}},{key:"handleCellClick",value:function(e,t){if(this.state.boardData[e][t].isRevealed||this.state.boardData[e][t].isFlagged)return null;this.state.boardData[e][t].isMine&&(this.setState({gameStatus:"You Lost."}),this.revealBoard(),alert("game over"));var n=this.state.boardData;n[e][t].isFlagged=!1,n[e][t].isRevealed=!0,n[e][t].isEmpty&&(n=this.revealEmpty(e,t,n)),this.getHidden(n).length===this.props.mines&&(this.setState({mineCount:0,gameStatus:"You Win."}),this.revealBoard(),alert("You Win")),this.setState({boardData:n,mineCount:this.props.mines-this.getFlags(n).length})}},{key:"handleContextMenu",value:function(e,t,n){e.preventDefault();var a=this.state.boardData,i=this.state.mineCount;if(!a[t][n].isRevealed){if(a[t][n].isFlagged?(a[t][n].isFlagged=!1,i++):(a[t][n].isFlagged=!0,i--),0===i){var o=this.getMines(a),r=this.getFlags(a);JSON.stringify(o)===JSON.stringify(r)&&(this.setState({mineCount:0,gameStatus:"You Win."}),this.revealBoard(),alert("You Win"))}this.setState({boardData:a,mineCount:i})}}},{key:"renderBoard",value:function(e,t){var n=this;return e.map(function(e){return e.map(function(a){return i.a.createElement("div",{key:a.row*e.length+a.col,onMouseDown:function(){return n.alterMouseDown()},onMouseUp:function(){return n.alterMouseDown()}},i.a.createElement(M,{onClick:function(){return n.handleCellClick(a.row,a.col)},cMenu:function(e){return n.handleContextMenu(e,a.row,a.col)},value:a,position:t,isMouseDown:n.state.isMouseDown}),e[e.length-1]===a?i.a.createElement("div",{className:"clear"}):"")})})}},{key:"render",value:function(){var e=this.props.position;return i.a.createElement("div",{className:"board"},this.renderBoard(this.state.boardData,e))}}]),t}(i.a.Component),k=(n(35),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={height:10,width:10,mines:10},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.height,n=e.width,a=e.mines;return i.a.createElement("div",{className:"game"},i.a.createElement(d.a,null,i.a.createElement(x,{height:t,width:n,mines:a})))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.5444478b.chunk.js.map